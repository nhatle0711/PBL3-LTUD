<header class="header" th:fragment="user_header" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="grid">
        <nav class="header__navbar">
            <ul class="header__navbar-list">
                <div th:if="${session.account.role.id == 0}">
                <a th:href="@{/user/register}"><li class="header__navbar-item">Trở thành người bán</li></a>
                </div>
                <div th:if="${session.account.role.id == 1}">
                    <a th:href="@{/seller/home}"><li class="header__navbar-item">Truy cập shop</li></a>
                </div>
                <li class="header__navbar-item header__navbar-item--separate">
                    <span class="header__navbar-title--no-pointer">Kết nối</span>
                </li>
                <a href="" class="header__navbar-icon-link">
                    <i class="header__navbar-icon  fab fa-facebook "></i>
                </a>
                <a href="" class="header__navbar-icon-link">
                    <i class="header__navbar-icon  fa-brands fa-instagram   "></i>

                </a>
            </ul>
            <ul class="header__navbar-list">
                <li class="header__navbar-item header__navbar-item--has-notify">
                    <a href="" class="header__navbar-item-link">
                        <i class="header__navbar-icon fa-solid fa-bell  "></i>
                        Thông báo
                    </a>

                    <div class="header__notify">
                        <header class="header__notify-header">
                            <h3>Thông báo mới nhận</h3>
                        </header>
                        <ul class="header__notify-list">
                            <li class="header__notify-item header__notify-item--viewed">
                                <a href="" class="header__notify-link" >
                                    <img src="https://storage.googleapis.com/ops-shopee-files-live/live/shopee-blog/2023/10/998b7f4a-1.png" alt="" class="header__notify-img" >
                                    <div class="header__notify-info">
                                        <span class="header__notify-name">Giảm sâu sập sàn siêu khuyến mãi hãy trải nghiệm ngay đừng bỏ lỡ !!!!!!!!</span>
                                        <span class="header__notify-descri">diễn ra từ 12/1 đến 13/2222 22 222222</span>
                                    </div>
                                </a>
                            </li>
                            <li class="header__notify-item header__notify-item--viewed">
                                <a href="" class="header__notify-link">
                                    <img src="https://storage.googleapis.com/ops-shopee-files-live/live/shopee-blog/2023/10/998b7f4a-1.png" alt="" class="header__notify-img" >
                                    <div class="header__notify-info">
                                        <span class="header__notify-name">Giảm sâu sập sàn siêu khuyến mãi hãy trải nghiệm ngay đừng bỏ lỡ !!!!!!!!</span>
                                        <span class="header__notify-descri">diễn ra từ 12/1 đến 13/2222 22 222</span>
                                    </div>
                                </a>
                            </li>
                            <li class="header__notify-item header__notify-item--viewed">
                                <a href="" class="header__notify-link">
                                    <img src="https://storage.googleapis.com/ops-shopee-files-live/live/shopee-blog/2023/10/998b7f4a-1.png" alt="" class="header__notify-img" >
                                    <div class="header__notify-info">
                                        <span class="header__notify-name">Giảm sâu sập sàn siêu khuyến mãi hãy trải nghiệm ngay đừng bỏ lỡ !!!!!!!!</span>
                                        <span class="header__notify-descri">diễn ra từ 12/1 đến 13/2222 22 22222222</span>
                                    </div>
                                </a>
                            </li>
                        </ul>
                        <footer class="header__notify-footer">
                            <a href="" class="header__notify-footer-btn">Xem tất cả</a>
                        </footer>
                    </div>
                </li>
                <li class="header__navbar-item">

                    <a href="" class="header__navbar-item-link">
                        <i class="header__navbar-icon fa-solid fa-circle-question "></i>
                        Trợ giúp
                    </a>
                </li>
                <ul class="header__navbar">
                    <!-- Thông tin user (Hiện khi đã đăng nhập) -->
                    <li class="header__navbar-item header__navbar-user" id="user-section">

                        <img th:src="@{/img/{image}(image=${session.account.imageurl})}" class="header__navbar-user-img">


                        <span th:text="${session.account.name}" class="header__navbar-user-name" id="username"></span>
                        <ul class="header__navbar-user-menu">
                            <li class="header__navbar-user-item">
                                <a th:href="@{/user/accountdetail}">Tài khoản của tôi</a>
                            </li>
                            <li class="header__navbar-user-item">
                                <a th:href="@{/user/accountdetail(section='order')}">Đơn mua</a>
                            </li>
                            <li class="header__navbar-user-item header__navbar-user-item--separate">
<!--                                <a th:href="@{/logout}" id="logout-btn">Đăng xuất</a>-->
                                <form id="logoutForm" th:action="@{/logout}" method="post">
                                    <button type="submit">Đăng xuất</button>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>
            </ul>
        </nav>
        <!-- header with search -->
        <div class="header-with-search">
            <div class="header__logo">
                <a th:href="@{/user/home}" class="header__logo-link">
                    <svg class="header__logo-img" width="457pt" height="50pt" viewBox="0 0 457 50" xmlns="http://www.w3.org/2000/svg">
                        <g id="fontsvg1741265222034" stroke-linecap="round" fill-rule="evenodd" fill="#fff">
                            <path
                                    d="M 36.1 25 L 50.5 0 L 72.15 37.5 L 64.95 50 L 50.5 25 L 43.3 37.5 L 50.5 50 L 36.1 50 L 21.65 25 L 14.45 37.5 L 21.65 50 L 7.2 50 L 0 37.5 L 21.65 0 L 36.1 25 Z M 261.75 25 L 276.15 0 L 297.8 37.5 L 290.6 50 L 276.15 25 L 268.95 37.5 L 276.15 50 L 261.75 50 L 247.3 25 L 240.1 37.5 L 247.3 50 L 232.85 50 L 225.65 37.5 L 247.3 0 L 261.75 25 Z M 386.4 50 L 371.95 25 L 386.4 25 L 393.6 12.5 L 379.15 12.5 L 364.75 37.5 L 371.95 50 L 357.5 50 L 350.3 37.5 L 371.95 0 L 400.8 0 L 408.05 12.5 L 393.6 37.5 L 400.8 50 L 386.4 50 Z M 204 12.5 L 182.35 50 L 175.15 37.5 L 196.8 0 L 225.65 0 L 232.9 12.5 L 211.25 50 L 196.8 50 L 204 37.5 L 196.8 25 L 211.25 25 L 218.45 12.5 L 204 12.5 Z M 328.65 12.5 L 307 50 L 299.8 37.5 L 321.45 0 L 350.3 0 L 357.55 12.5 L 335.9 50 L 321.45 50 L 328.65 37.5 L 321.45 25 L 335.9 25 L 343.1 12.5 L 328.65 12.5 Z M 153.5 37.5 L 146.3 25 L 160.75 25 L 167.95 37.5 L 160.75 50 L 131.85 50 L 124.65 37.5 L 146.3 0 L 175.15 0 L 182.4 12.5 L 153.5 12.5 L 139.1 37.5 L 153.5 37.5 Z M 88.6 37.5 L 103 37.5 L 110.25 50 L 81.35 50 L 74.15 37.5 L 95.8 0 L 124.65 0 L 131.9 12.5 L 103 12.5 L 99.4 18.75 L 113.85 18.75 L 106.6 31.25 L 92.2 31.25 L 88.6 37.5 Z M 413.65 12.5 L 406.45 0 L 449.75 0 L 456.95 12.5 L 442.55 12.5 L 428.15 37.45 L 435.3 50 L 420.9 50 L 413.65 37.5 L 428.1 12.5 L 413.65 12.5 Z"
                                    vector-effect="non-scaling-stroke"
                            />
                        </g>
                    </svg>
                </a>

            </div>

            <form class="header__search">
                <div class="header__search-input-wrap">
                    <input type="text" th:value="*{keyword}" name="keyword" class="header__search-input" placeholder="Nhập để tìm kiếm sản phẩm">

                    <input type="hidden" name="categoryId" th:value="${selectedCategoryId}">
                    <input type="hidden" name="sort" th:value="${sort}">
                </div>
                <button class="header__search-btn" type="submit">
                    <i class="header__search-btn-icon fa-solid fa-magnifying-glass"></i>
                </button>
            </form>



            <!--Cart layout  -->
            <div class="header__cart">

                <div class="header__cart-wrap">
                    <i class="header__cart-icon fa-solid fa-cart-shopping"></i>
                    <span class="header__cart-notice" th:text="${session.listcart.size()}"></span>

                    <div class="header__cart-list ">
                        <div  th:if="${#lists.isEmpty(session.listcart)}">
                            <div style="padding:30px 0;font-size:26px">Chưa có sản phẩm nào</div>
                        </div>

                        <div th:if="${not #lists.isEmpty(session.listcart)}">
                        <h4 class="header__cart-heading">Sản Phẩm Đã Thêm </h4>
                        <ul class="header__cart-list-item">
                            <li class="header__cart-item" th:each="product : ${session.listcart}">
                                <img th:src="@{/img/{imgfile}(imgfile=${product.imageurl})}" alt="No ava" class="header__cart-img">
                                <div class="header__cart-item-info">
                                    <div class="header__cart-item-head">
                                        <h5 class="header__cart-item-name" th:text="${product.name}"></h5>
                                        <div class="header__cart-item-price-wrap">
                                            <span class="header__cart-item-price" th:text="${#numbers.formatInteger(product.price, 1, 'POINT')+'đ'}"></span>
                                        </div>
                                    </div>
<!--                                    <div class="header__cart-item-body">-->
<!--                                        <span class="header__cart-item-remove">Xóa</span>-->
<!--                                    </div>-->
                                </div>
                            </li>
                        </ul>
                        <a th:href="@{/user/cart}">
                            <button class="header__cart-viewcart btn btn--primary">Xem Giỏ Hàng</button>
                        </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</header>